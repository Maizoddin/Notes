Callback Ref ::::

Definition: Allows dynamically running some logic when an element gets mounted or unmounted.
Usage:
When a DOM element is created for the first time or a new ref callback is attached to the element, React invokes the callback ref with the newly created node.
The callback also triggers when the element unmounts, its key changes, or the callback changes.
Passing null detaches the ref from the element.


import React, { useCallback, useState } from "react";

const Test = () => {
  const fn = useCallback((node) => {
    console.log("Node", node);
  }, []);
  const [count, setCount] = useState(0);
  const handleClick = () => {
    setCount((count) => count + 1);
  };
  return (
    <div>
      <h1 ref={fn}>Test</h1>
      <button onClick={handleClick}>
        Add
      </button>
    </div>
  );
};

export default Test;
